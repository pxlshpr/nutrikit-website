@import "tailwindcss";

/* ============================================
   NUTRIKIT DESIGN SYSTEM
   Matching the iOS app aesthetic
   ============================================ */

/* ============================================
   1. CSS CUSTOM PROPERTIES (Design Tokens)
   ============================================ */
@layer base {
  :root {
    /* Light mode (default) */
    --background: #F8F7F4;
    --background-secondary: #FFFFFF;
    --foreground: #1C1C1E;
    --foreground-secondary: #636366;
    --foreground-tertiary: #AEAEB2;

    /* Cards */
    --card-bg: #FFFFFF;
    --card-border: rgba(0, 0, 0, 0.06);
    --card-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);

    /* Accent Colors - from the app */
    --accent-calories: #D4A944;
    --accent-protein: #2DD4BF;
    --accent-fat: #C084FC;
    --accent-carbs: #A3A042;

    /* Primary accent (teal) */
    --accent-primary: #2DD4BF;
    --accent-primary-soft: rgba(45, 212, 191, 0.15);

    /* Secondary accent (purple) */
    --accent-secondary: #A78BFA;
    --accent-secondary-soft: rgba(167, 139, 250, 0.15);

    /* Borders */
    --border-default: rgba(0, 0, 0, 0.08);
    --border-active: var(--accent-primary);

    /* Radius - matching iOS design */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 20px;
    --radius-2xl: 24px;
    --radius-full: 9999px;

    /* Font */
    --font-sans: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', system-ui, sans-serif;

    /* iPhone frame - Natural Titanium (light mode) */
    --iphone-frame-light: #8a8a8c;
    --iphone-frame-mid: #78787a;
    --iphone-frame-dark: #6a6a6c;
    --iphone-inner-light: #6a6a6c;
    --iphone-inner-dark: #5a5a5c;
    --iphone-button-light: #7a7a7c;
    --iphone-button-mid: #6a6a6c;
    --iphone-button-dark: #5a5a5c;
  }

  /* Dark mode */
  @media (prefers-color-scheme: dark) {
    :root {
      --background: #000000;
      --background-secondary: #1C1C1E;
      --foreground: #FFFFFF;
      --foreground-secondary: #AEAEB2;
      --foreground-tertiary: #636366;

      /* Cards */
      --card-bg: #1C1C1E;
      --card-border: rgba(255, 255, 255, 0.08);
      --card-shadow: 0 2px 12px rgba(0, 0, 0, 0.4);

      /* Borders */
      --border-default: rgba(255, 255, 255, 0.1);

      /* iPhone frame - Black Titanium (dark mode) */
      --iphone-frame-light: #4a4a4c;
      --iphone-frame-mid: #3a3a3c;
      --iphone-frame-dark: #2a2a2c;
      --iphone-inner-light: #3a3a3c;
      --iphone-inner-dark: #2a2a2c;
      --iphone-button-light: #4a4a4c;
      --iphone-button-mid: #3a3a3c;
      --iphone-button-dark: #2a2a2c;
    }
  }
}

/* ============================================
   2. BASE STYLES
   ============================================ */
@layer base {
  * {
    border-color: var(--border-default);
  }

  html, body {
    overflow-x: hidden;
  }

  body {
    background-color: var(--background);
    color: var(--foreground);
    font-family: var(--font-sans);
    font-size: 16px;
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Typography - Bold and Eye-catching */
  h1, h2, h3, h4, h5, h6 {
    font-weight: 800;
    letter-spacing: -0.03em;
  }

  h1 {
    font-size: 3rem;
    line-height: 1.05;
    font-weight: 900;
  }

  @media (min-width: 768px) {
    h1 {
      font-size: 4.5rem;
    }
  }

  @media (min-width: 1024px) {
    h1 {
      font-size: 5.5rem;
    }
  }

  h2 {
    font-size: 2.5rem;
    font-weight: 800;
  }

  @media (min-width: 768px) {
    h2 {
      font-size: 3.5rem;
    }
  }

  h3 {
    font-size: 1.75rem;
    font-weight: 700;
  }

  @media (min-width: 768px) {
    h3 {
      font-size: 2.25rem;
    }
  }

  /* Selection */
  ::selection {
    background: var(--accent-primary);
    color: #000;
  }

  /* Scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--foreground-tertiary);
    border-radius: var(--radius-full);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--foreground-secondary);
  }
}

/* ============================================
   3. UTILITY CLASSES
   ============================================ */
@layer utilities {
  /* Text colors */
  .text-calories {
    color: var(--accent-calories);
  }

  .text-protein {
    color: var(--accent-protein);
  }

  .text-fat {
    color: var(--accent-fat);
  }

  .text-carbs {
    color: var(--accent-carbs);
  }

  .text-primary {
    color: var(--accent-primary);
  }

  .text-secondary-accent {
    color: var(--accent-secondary);
  }

  /* Background utilities */
  .bg-card {
    background-color: var(--card-bg);
  }

  .bg-primary-soft {
    background-color: var(--accent-primary-soft);
  }

  .bg-secondary-soft {
    background-color: var(--accent-secondary-soft);
  }

  /* Gradient text */
  .gradient-text {
    background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .gradient-text-warm {
    background: linear-gradient(135deg, var(--accent-calories) 0%, var(--accent-fat) 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  /* Card styles */
  .card {
    background: var(--card-bg);
    border-radius: var(--radius-xl);
    border: 1px solid var(--card-border);
    box-shadow: var(--card-shadow);
  }

  .card-interactive {
    background: var(--card-bg);
    border-radius: var(--radius-xl);
    border: 1px solid var(--card-border);
    box-shadow: var(--card-shadow);
    transition: all 0.2s ease;
  }

  .card-interactive:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
  }

  @media (prefers-color-scheme: dark) {
    .card-interactive:hover {
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
      border-color: var(--accent-primary);
    }
  }

  /* Glass effect */
  .glass {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }

  @media (prefers-color-scheme: dark) {
    .glass {
      background: rgba(28, 28, 30, 0.8);
    }
  }

  /* Pill badge */
  .pill {
    display: inline-flex;
    align-items: center;
    padding: 0.375rem 0.875rem;
    border-radius: var(--radius-full);
    font-size: 0.875rem;
    font-weight: 500;
  }

  .pill-primary {
    background: var(--accent-primary-soft);
    color: var(--accent-primary);
  }

  .pill-secondary {
    background: var(--accent-secondary-soft);
    color: var(--accent-secondary);
  }

  /* Container */
  .container-app {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  @media (min-width: 768px) {
    .container-app {
      padding: 0 2rem;
    }
  }

  /* Section spacing */
  .section-padding {
    padding: 4rem 0;
  }

  @media (min-width: 768px) {
    .section-padding {
      padding: 6rem 0;
    }
  }

  @media (min-width: 1024px) {
    .section-padding {
      padding: 8rem 0;
    }
  }
}

/* ============================================
   4. COMPONENT: BUTTONS
   ============================================ */
@layer components {
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    border-radius: var(--radius-lg);
    transition: all 0.2s ease;
    cursor: pointer;
    white-space: nowrap;
  }

  .btn-primary {
    background: var(--accent-primary);
    color: #000000;
    padding: 0.75rem 1.5rem;
    font-weight: 600;
    border-radius: var(--radius-lg);
  }

  .btn-primary:hover {
    opacity: 0.9;
    transform: translateY(-1px);
  }

  .btn-secondary {
    background: var(--accent-secondary-soft);
    color: var(--accent-secondary);
    padding: 0.75rem 1.5rem;
    font-weight: 600;
    border-radius: var(--radius-lg);
  }

  .btn-secondary:hover {
    background: var(--accent-secondary);
    color: #000;
  }

  .btn-outline {
    background: transparent;
    border: 1.5px solid var(--border-default);
    color: var(--foreground);
    padding: 0.75rem 1.5rem;
    font-weight: 600;
    border-radius: var(--radius-lg);
  }

  .btn-outline:hover {
    border-color: var(--accent-primary);
    color: var(--accent-primary);
  }

  .btn-lg {
    padding: 1rem 2rem;
    font-size: 1.0625rem;
    border-radius: var(--radius-xl);
  }

  .btn-sm {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
  }

  /* Portfolio link */
  .portfolio-link {
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.5;
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .portfolio-link:hover {
    opacity: 1;
    transform: scale(1.15) rotate(-5deg);
  }

  .portfolio-link svg rect,
  .portfolio-link svg polygon {
    transform-box: fill-box;
  }
}

/* ============================================
   5. COMPONENT: iPhone 17 Pro Max Frame
   ============================================ */
@layer components {
  .iphone-device {
    position: relative;
  }

  .iphone-outer-frame {
    position: relative;
    background: linear-gradient(to bottom, var(--iphone-frame-mid), var(--iphone-frame-light), var(--iphone-frame-dark));
    border-radius: 54px;
    padding: 3px;
    box-shadow:
      0 0 0 1px rgba(255, 255, 255, 0.15),
      0 25px 80px -12px rgba(0, 0, 0, 0.5),
      0 0 40px rgba(0, 0, 0, 0.3),
      inset 0 1px 1px rgba(255, 255, 255, 0.1);
  }

  .iphone-inner-frame {
    background: linear-gradient(to bottom, var(--iphone-inner-dark), var(--iphone-inner-light), var(--iphone-inner-dark));
    border-radius: 51px;
    padding: 2px;
  }

  .iphone-button {
    position: absolute;
    width: 4px;
    background: linear-gradient(to bottom, var(--iphone-button-mid), var(--iphone-button-light), var(--iphone-button-dark));
  }

  .iphone-button-left {
    left: -2.5px;
    border-radius: 2px 0 0 2px;
    box-shadow: -1px 0 2px rgba(0, 0, 0, 0.3), inset 1px 0 1px rgba(255, 255, 255, 0.1);
  }

  .iphone-button-right {
    right: -2.5px;
    border-radius: 0 2px 2px 0;
    box-shadow: 1px 0 2px rgba(0, 0, 0, 0.3), inset -1px 0 1px rgba(255, 255, 255, 0.1);
  }
}

/* ============================================
   6. ANIMATIONS
   ============================================ */
@layer utilities {
  @keyframes float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  .animate-float {
    animation: float 4s ease-in-out infinite;
  }

  @keyframes pulse-soft {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.7;
    }
  }

  .animate-pulse-soft {
    animation: pulse-soft 2s ease-in-out infinite;
  }

  @keyframes gradient-shift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient-shift 8s ease infinite;
  }
}

/* ============================================
   7. FEATURE ICONS
   ============================================ */
@layer components {
  .feature-icon {
    width: 56px;
    height: 56px;
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .feature-icon-primary {
    background: linear-gradient(135deg, var(--accent-primary) 0%, #14B8A6 100%);
    color: #000;
  }

  .feature-icon-secondary {
    background: linear-gradient(135deg, var(--accent-secondary) 0%, #8B5CF6 100%);
    color: #fff;
  }

  .feature-icon-calories {
    background: linear-gradient(135deg, var(--accent-calories) 0%, #F59E0B 100%);
    color: #000;
  }

  .feature-icon-health {
    background: linear-gradient(135deg, #EC4899 0%, #F43F5E 100%);
    color: #fff;
  }
}

/* ============================================
   8. BACKGROUNDS
   ============================================ */
@layer utilities {
  .bg-gradient-radial {
    background: radial-gradient(ellipse at top, var(--accent-primary-soft) 0%, transparent 50%);
  }

  .bg-dots {
    background-image: radial-gradient(var(--foreground-tertiary) 1px, transparent 1px);
    background-size: 24px 24px;
    opacity: 0.3;
  }
}

/* ============================================
   9. VIDEO THEME SWITCHING
   ============================================ */
@layer utilities {
  /* Light mode: show light video, hide dark */
  .video-light {
    display: block;
  }
  .video-dark {
    display: none;
  }

  /* Dark mode: show dark video, hide light */
  @media (prefers-color-scheme: dark) {
    .video-light {
      display: none;
    }
    .video-dark {
      display: block;
    }
  }
}

/* ============================================
   9.5 OPTIMIZED VIDEO OVERLAY
   ============================================ */
@layer components {
  .video-overlay {
    @apply absolute inset-0 flex items-center justify-center;
    @apply bg-black/30 backdrop-blur-sm cursor-pointer;
    @apply transition-all duration-300;
  }

  .video-overlay:hover {
    @apply bg-black/40;
  }

  .video-overlay.hiding {
    @apply opacity-0 pointer-events-none;
  }

  .play-icon {
    @apply w-16 h-16 rounded-full flex items-center justify-center;
    @apply bg-[var(--accent-primary)] text-black transition-transform duration-200;
  }

  .play-icon:hover {
    @apply scale-110;
  }
}

/* ============================================
   10. ACCESSIBILITY
   ============================================ */
@layer base {
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  *:focus-visible {
    outline: 2px solid var(--accent-primary);
    outline-offset: 2px;
  }
}
